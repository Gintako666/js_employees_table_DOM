{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","tableBody","classList","add","insertAdjacentHTML","buttonForm","getSalary","el","replace","elementText","counterClickName","counterClickPosition","counterClickOffice","counterClickAge","counterClickSalary","resetCount","addEventListener","e","whereСlicked","target","personsNow","tableBodyActive","querySelectorAll","personsRender","sortedAlphabet","person","sort","a","b","children","cellIndex","innerText","localeCompare","reverse","append","forEach","remove","closest","onclick","preventDefault","labels","valueInput","map","label","value","some","item","length","setTimeout","newTableElement","toLocaleString","window","contains","innerHTML","inputEdit","key"],"mappings":"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","file":"main.542d5563.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst tableBody = document.querySelector('tbody');\n\ntableBody.classList.add('table-body');\n\nbody.insertAdjacentHTML('beforeend', `\n<form action=\"\" class=\"new-employee-form\">\n<label>\n  Name:\n  <input\n    pattern=\"[A-Za-z]\"\n    name=\"name\" \n    type=\"text\" \n    data-qa=\"name\" \n    required\n    minlength =\"4\"\n    value=\"\"\n  >\n</label>\n\n<label>\n  Position:\n  <input \n    name=\"position\"\n    type=\"text\" \n    data-qa=\"position\"\n    required\n    value=\"\"\n  >\n</label>\n\n<label>\n  Office:\n  <select \n  nema=\"office\" \n  type=\"text\" \n  data-qa=\"office\"\n  required\n  value=\"\"\n>\n  <option value=\"\" disabled selected></option>\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n  </select>\n</label>\n\n<label>\n  Age:\n  <input \n  name=\"age\" \n  type=\"number\" \n  data-qa=\"age\" \n  min=\"18\"\n  max=\"90\"\n  required\n  value=\"\"\n>\n</label>\n\n<label>\n  Salary:\n  <input \n  name=\"salary\" \n  type=\"number\" \n  data-qa=\"salary\"\n  required\n  value=\"\"\n  >\n</label>\n\n<button type=\"submit\">Save to table</button>\n</form>\n`);\n\nconst buttonForm = document.querySelector('button');\n\nfunction getSalary(el) {\n  return el.replace(/\\D/g, '');\n}\n\nlet counterClickName = 0;\nlet counterClickPosition = 0;\nlet counterClickOffice = 0;\nlet counterClickAge = 0;\nlet counterClickSalary = 0;\n\nfunction resetCount() {\n  counterClickName = 0;\n  counterClickPosition = 0;\n  counterClickOffice = 0;\n  counterClickAge = 0;\n  counterClickSalary = 0;\n}\n\ndocument.querySelector('thead').addEventListener('click', (e) => {\n  const whereСlicked = e.target;\n  const tableBodyActive = document.querySelector('tbody');\n  const personsNow = [...tableBodyActive.querySelectorAll('tr')];\n  let personsRender = [];\n\n  function sortedAlphabet(person) {\n    return person.sort((a, b) => a.children[whereСlicked.cellIndex]\n      .innerText.localeCompare(b.children[whereСlicked.cellIndex].innerText));\n  }\n\n  switch (whereСlicked.innerText) {\n    case 'Name':\n      if (counterClickName > 0) {\n        personsRender = personsNow.reverse();\n        break;\n      }\n\n      resetCount();\n      counterClickName++;\n      personsRender = sortedAlphabet(personsNow);\n      break;\n\n    case 'Position':\n      if (counterClickPosition > 0) {\n        personsRender = personsNow.reverse();\n        break;\n      }\n\n      resetCount();\n      counterClickPosition++;\n      personsRender = sortedAlphabet(personsNow);\n      break;\n\n    case 'Office':\n      if (counterClickOffice > 0) {\n        personsRender = personsNow.reverse();\n        break;\n      }\n\n      resetCount();\n      counterClickOffice++;\n      personsRender = sortedAlphabet(personsNow);\n      break;\n\n    case 'Age':\n      if (counterClickAge > 0) {\n        personsRender = personsNow.reverse();\n        break;\n      }\n\n      resetCount();\n      counterClickAge++;\n\n      personsRender = personsNow.sort((a, b) => {\n        return +a.children[whereСlicked.cellIndex].innerText\n        - +b.children[whereСlicked.cellIndex].innerText;\n      });\n      break;\n\n    case 'Salary':\n      if (counterClickSalary > 0) {\n        personsRender = personsNow.reverse();\n        break;\n      }\n\n      resetCount();\n      counterClickSalary++;\n\n      personsRender = personsNow.sort((a, b) => getSalary(a\n        .children[whereСlicked.cellIndex].innerText)\n        - getSalary(b.children[whereСlicked.cellIndex].innerText));\n  }\n\n  tableBody.append(...personsRender);\n});\n\ntableBody.addEventListener('click', (e) => {\n  [...document.querySelectorAll('.active')]\n    .forEach(el => el.classList.remove('active'));\n\n  e.target.closest('tr').classList.add('active');\n});\n\nbuttonForm.onclick = (e) => {\n  e.preventDefault();\n\n  const labels = [...document.querySelectorAll('label')];\n\n  let valueInput = [];\n\n  valueInput = labels.map(label => [...label.children][0].value);\n\n  if (valueInput.some(item => item === '')\n  || valueInput[0].length < 4\n  || valueInput[3] <= 18\n  || valueInput[3] >= 90\n  ) {\n    body.insertAdjacentHTML('afterend', `\n    <div class=\"notification error\" style=\"position: fixed\">\n      <h2>Error</h2>\n      <p>Fields filled out incorrectly. Umya must have 4 \n      characters, age must be greater than 18 and less than 90</p>\n      </br>\n    </div>\n  `);\n\n    setTimeout(() => document.querySelector('.notification').remove(), 5000);\n\n    return;\n  }\n\n  const newTableElement = `\n    <tr>\n      <td>${valueInput[0]}</td>\n      <td>${valueInput[1]}</td>\n      <td>${valueInput[2]}</td>\n      <td>${valueInput[3]}</td>\n      <td>${'$' + (+valueInput[4]).toLocaleString()}</td>\n    </tr>\n  `;\n\n  tableBody.insertAdjacentHTML('afterbegin', newTableElement);\n\n  body.insertAdjacentHTML('afterend', `\n  <div class=\"notification success\" style=\"position: fixed\">\n    <h2>Well done</h2>\n    <p>You have added a new employee</p>\n    </br>\n  </div>\n`);\n\n  setTimeout(() => document.querySelector('.notification').remove(), 2000);\n\n  labels.map(label => {\n    [...label.children][0].value = '';\n\n    return label;\n  });\n};\n\nlet elementText;\n\nwindow.addEventListener('dblclick', (e) => {\n  if (e.target.closest('tbody') === null) {\n    return;\n  }\n\n  if (e.target.closest('tbody').classList.contains('table-body')) {\n    elementText = e.target.innerText;\n\n    e.target.closest('td').innerHTML = `\n    <input \n      class=\"input-edit\" \n      value=\"${elementText}\"\n      style=\"\n        outline:none;\n        background: none;\n        font-size:15px; \n        height: 28px;\n        width: 100px;\n      \"\n    >\n    `;\n  }\n});\n\nwindow.addEventListener('click', (e) => {\n  const inputEdit = document.querySelector('.input-edit');\n\n  if (inputEdit === null\n    || e.target.classList.contains('input-edit')) {\n    return;\n  }\n\n  if (inputEdit.value === '') {\n    inputEdit.closest('td').innerHTML = elementText;\n  }\n\n  inputEdit.closest('td').innerHTML = `${inputEdit.value}`;\n});\n\nwindow.addEventListener('keypress', (e) => {\n  if (e.key === 'Enter') {\n    const inputEdit = document.querySelector('.input-edit');\n\n    if (inputEdit.value === '') {\n      inputEdit.closest('td').innerHTML = elementText;\n    }\n\n    inputEdit.closest('td').innerHTML = `${inputEdit.value}`;\n  }\n});\n"]}